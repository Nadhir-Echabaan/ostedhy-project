import{A as f,b as N,j as s}from"./index-ClQbt-RO.js";import{P as S,Y as y,C as P,U as C}from"./Star 1-CRLQGew8.js";import{f as L}from"./formatDate-DKgZRy0c.js";import{a as B,f as w,b as F}from"./subjects-BDxBwtQc.js";function E({subjectData:i}){const{data:a,isLoading:u}=f({});let r=a==null?void 0:a.points;const n=5,[l]=B(),[j]=w(),m=N(),{subject_name:c,id:e,bought:o,expiration_date:b,favorite:d,reviews:h,duration:p}=i,{data:t,isLoading:U}=F(e),x=()=>{m(`/subjects/${e}`)};function v(){l({favorite:d,subjectId:e})}function g(){r-n>=0&&j({subjectId:e,updatedPoints:r-n})}if(!(!i||u))return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"position-relative",children:[s.jsxs("div",{className:"subject",children:[s.jsx("div",{className:"subject-image",onClick:()=>x(),children:s.jsx("span",{children:c})}),s.jsxs("div",{className:"subject-informations",children:[s.jsx("p",{className:"subject-name",children:c}),s.jsxs("div",{className:"progress",children:[s.jsx(S,{subjectProgress:20}),s.jsx("span",{className:"percentage",children:"20%"})]}),s.jsxs("div",{className:"subject-stats",children:[s.jsxs("p",{children:[t==null?void 0:t.length," chapters"]}),s.jsxs("p",{children:[p," Hours"]}),s.jsxs("p",{className:"reviews",children:[s.jsx("img",{src:y}),s.jsxs("span",{children:[h," (reviews)"]})]})]}),s.jsx("div",{className:"buy-btn",children:s.jsx("button",{onClick:()=>g(),className:`${o?"btn is-purchased":"btn"}`,children:o?`Expires on ${L(b)}`:"Buy 5PTS/Month"})})]})]}),s.jsx("div",{className:"star-container",children:s.jsx("img",{onClick:v,src:d===!0?P:C})})]})})}export{E as S};
