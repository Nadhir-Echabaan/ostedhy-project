import{b as d,j as s,r as m}from"./index-ClQbt-RO.js";import{u as h,a as x}from"./todos-C2aTCCPf.js";const j=({query:i})=>{var a;const t=d(),{data:e}=h(i,{skip:!i}),[c]=x(),r=l=>{l&&t(`/todos-rtk/edit/${l}`)},o=l=>{if(!l)return;window.confirm("Are you sure you want to delete this item?")&&c({id:l})};return s.jsxs("table",{className:"todos-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"header-cell",children:"#"}),s.jsx("th",{className:"header-cell",children:"Title"}),s.jsx("th",{className:"header-cell",children:"Description"}),s.jsx("th",{className:"header-cell",children:"Status"}),s.jsx("th",{className:"header-cell",children:"Action"})]})}),s.jsx("tbody",{children:(a=e==null?void 0:e.data)==null?void 0:a.map(l=>s.jsxs("tr",{className:"table-row",children:[s.jsx("td",{className:"table-cell",children:l.id}),s.jsx("td",{className:"table-cell",children:l.title}),s.jsx("td",{className:"table-cell",children:l.description}),s.jsx("td",{className:`table-cell ${l.completed?"status-completed":"status-pending"}`,children:l.completed?"Completed":"Pending"}),s.jsxs("td",{className:"table-cell btn_container",children:[s.jsx("button",{className:"btn btn_update",onClick:()=>{var n;return r((n=l==null?void 0:l.id)==null?void 0:n.toString())},children:"Update"}),s.jsx("button",{className:"btn btn_delete",onClick:()=>{var n;return o((n=l==null?void 0:l.id)==null?void 0:n.toString())},children:"Delete"})]})]},l.id))})]})},p=({query:i,setQuery:t})=>{const{data:e}=h(i,{skip:!i}),c=Math.ceil(((e==null?void 0:e.total)||0)/(e==null?void 0:e.limit)),r=l=>{const n=parseInt(l.target.value,10);t({page:(e==null?void 0:e.page)||1,limit:n})},o=()=>{t({page:(e==null?void 0:e.page)-1||1,limit:(e==null?void 0:e.limit)||10})},a=()=>{t({page:(e==null?void 0:e.page)+1||1,limit:(e==null?void 0:e.limit)||10})};return s.jsxs("div",{className:"pagination",children:[s.jsxs("div",{children:[s.jsx("label",{children:"Page : "}),s.jsxs("select",{value:e==null?void 0:e.limit,onChange:r,children:[s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"5",children:"5"}),s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"50",children:"50"})]})]}),s.jsxs("div",{className:"pagination_buttons_container",children:[s.jsxs("div",{className:"pagination_buttons",children:[s.jsx("button",{disabled:(e==null?void 0:e.page)===1,onClick:o,children:"Prev"}),s.jsx("button",{disabled:!0,children:e==null?void 0:e.page}),s.jsx("button",{disabled:(e==null?void 0:e.page)===c,onClick:a,children:"Next"})]}),s.jsxs("p",{children:["Total Pages : ",c]})]})]})},g=()=>{const i=d(),[t,e]=m.useState({page:1,limit:10}),c=()=>{i("/todos-rtk/create")};return s.jsxs("div",{className:"todo_list_container",children:[s.jsxs("div",{className:"todo_list_container_header",children:[s.jsx("h1",{children:"Todos RTK Query"}),s.jsx("button",{className:"create_btn",onClick:c,children:"Add New Todo"})]}),s.jsx(j,{query:t}),s.jsx(p,{query:t,setQuery:e})]})};export{g as default};
