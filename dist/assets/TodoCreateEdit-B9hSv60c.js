import{b as p,v as n,r as m,j as t}from"./index-CzvN-k70.js";import{u as h,c as x,a as j}from"./index.esm-CscxgurT.js";import{b as v,c as g,d as b}from"./todos-BaECbMi2.js";import"./hoist-non-react-statics.cjs-C-Qo8PK8.js";const f=({isEdit:i})=>{const o=p(),{id:l}=n(),{data:a}=v(l||"",{skip:!l}),[r]=g(),[c]=b(),e=h({initialValues:{id:0,title:"",description:"",completed:!1},validationSchema:x().shape({title:j().required("Title is required")}),onSubmit:async s=>{i?await c({id:l,data:s}).unwrap().then(()=>{o("/todos-rtk")}):await r(s).unwrap().then(()=>{o("/todos-rtk")})}}),d=s=>{const u=s.target.value==="true";e.setFieldValue("completed",u)};return m.useEffect(()=>{a&&(e.setFieldValue("id",a.id),e.setFieldValue("title",a.title),e.setFieldValue("description",a.description),e.setFieldValue("completed",a.completed))},[a]),t.jsxs("form",{className:"todo-form",onSubmit:e.handleSubmit,children:[a&&t.jsxs("p",{children:["ID : ",a==null?void 0:a.id]}),t.jsxs("div",{children:[t.jsx("input",{type:"text",name:"title",placeholder:"Title",value:e==null?void 0:e.values.title,onChange:e.handleChange}),e.touched.title&&e.errors.title?t.jsx("small",{className:"error-message",children:e.errors.title}):null]}),t.jsx("textarea",{name:"description",placeholder:"Description (optional)",value:e==null?void 0:e.values.description,onChange:e.handleChange,className:"non-resizable"}),t.jsxs("div",{className:"radio-group",children:[t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"completed",value:"true",checked:e.values.completed===!0,onChange:d}),"Completed"]}),t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"completed",value:"false",checked:e.values.completed===!1,onChange:d}),"Not Completed"]})]}),t.jsx("button",{type:"submit",children:"Submit"})]})},y=()=>{const{id:i}=n();return t.jsx("div",{className:"todo_create_edit_container",children:t.jsx(f,{isEdit:!!i})})};export{y as default};
