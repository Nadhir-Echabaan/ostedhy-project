import{b as p,a as n,m as u,q as m,t as h,r,j as t,v as x,w as j}from"./index-CzvN-k70.js";import{u as g,c as f,a as v}from"./index.esm-CscxgurT.js";import"./hoist-non-react-statics.cjs-C-Qo8PK8.js";const b=({isEdit:l})=>{const i=p(),o=n(),{todo:a}=u(s=>s.todos),e=g({initialValues:{id:"",title:"",description:"",completed:!1},validationSchema:f().shape({title:v().required("Title is required")}),onSubmit:s=>{l?o(m({id:String((s==null?void 0:s.id)||""),updatedData:s})).unwrap().then(()=>{i("/todos")}):o(h(s)).unwrap().then(()=>{i("/todos")})}}),d=s=>{const c=s.target.value==="true";e.setFieldValue("completed",c)};return r.useEffect(()=>{a&&(e.setFieldValue("id",a.id),e.setFieldValue("title",a.title),e.setFieldValue("description",a.description),e.setFieldValue("completed",a.completed))},[a]),t.jsxs("form",{className:"todo-form",onSubmit:e.handleSubmit,children:[a&&t.jsxs("p",{children:["ID : ",a==null?void 0:a.id]}),t.jsxs("div",{children:[t.jsx("input",{type:"text",name:"title",placeholder:"Title",value:e==null?void 0:e.values.title,onChange:e.handleChange}),e.touched.title&&e.errors.title?t.jsx("small",{className:"error-message",children:e.errors.title}):null]}),t.jsx("textarea",{name:"description",placeholder:"Description (optional)",value:e==null?void 0:e.values.description,onChange:e.handleChange,className:"non-resizable"}),t.jsxs("div",{className:"radio-group",children:[t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"completed",value:"true",checked:e.values.completed===!0,onChange:d}),"Completed"]}),t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"completed",value:"false",checked:e.values.completed===!1,onChange:d}),"Not Completed"]})]}),t.jsx("button",{type:"submit",children:"Submit"})]})},V=()=>{const l=n(),{id:i}=x();return r.useEffect(()=>{i&&l(j(i))},[i]),t.jsx("div",{className:"todo_create_edit_container",children:t.jsx(b,{isEdit:!!i})})};export{V as default};
