import{b as m,a as o,m as h,j as e,n as j,o as p,p as r,r as b}from"./index-CzvN-k70.js";const g=()=>{const n=m(),l=o(),{todos:t,query:i}=h(s=>s.todos),a=s=>{s&&n(`/todos/edit/${s}`)},d=s=>{if(!s)return;window.confirm("Are you sure you want to delete this item?")&&l(j(s)).unwrap().then(()=>{l(p({page:i.page,limit:i.limit}))}).catch(c=>{console.log(c),alert("something went wrong")})};return e.jsxs("table",{className:"todos-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"header-cell",children:"#"}),e.jsx("th",{className:"header-cell",children:"Title"}),e.jsx("th",{className:"header-cell",children:"Description"}),e.jsx("th",{className:"header-cell",children:"Status"}),e.jsx("th",{className:"header-cell",children:"Action"})]})}),e.jsx("tbody",{children:t==null?void 0:t.map(s=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell",children:s.id}),e.jsx("td",{className:"table-cell",children:s.title}),e.jsx("td",{className:"table-cell",children:s.description}),e.jsx("td",{className:`table-cell ${s.completed?"status-completed":"status-pending"}`,children:s.completed?"Completed":"Pending"}),e.jsxs("td",{className:"table-cell btn_container",children:[e.jsx("button",{className:"btn btn_update",onClick:()=>a(s==null?void 0:s.id),children:"Update"}),e.jsx("button",{className:"btn btn_delete",onClick:()=>d(s==null?void 0:s.id),children:"Delete"})]})]},s.id))})]})},N=()=>{const n=o(),{query:{page:l,limit:t,total:i}}=h(c=>c.todos),a=Math.ceil((i||0)/t),d=c=>{const u=parseInt(c.target.value,10);n(r({page:l,limit:u}))},s=()=>{n(r({page:l-1,limit:t}))},x=()=>{n(r({page:l+1,limit:t}))};return e.jsxs("div",{className:"pagination",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Page : "}),e.jsxs("select",{value:t,onChange:d,children:[e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"50",children:"50"})]})]}),e.jsxs("div",{className:"pagination_buttons_container",children:[e.jsxs("div",{className:"pagination_buttons",children:[e.jsx("button",{disabled:l===1,onClick:s,children:"Prev"}),e.jsx("button",{disabled:!0,children:l}),e.jsx("button",{disabled:l===a,onClick:x,children:"Next"})]}),e.jsxs("p",{children:["Total Pages : ",a]})]})]})},_=()=>{const n=m(),l=o(),{query:t}=h(a=>a.todos),i=()=>{n("/todos/create")};return b.useEffect(()=>{l(p({page:t.page,limit:t.limit})).unwrap().then(()=>{console.log("all todos fetched")}).catch(a=>{console.error(a)})},[t.page,t.limit]),e.jsxs("div",{className:"todo_list_container",children:[e.jsxs("div",{className:"todo_list_container_header",children:[e.jsx("h1",{children:"Todos Redux Toolkit"}),e.jsx("button",{className:"create_btn",onClick:i,children:"Add New Todo"})]}),e.jsx(g,{}),e.jsx(N,{})]})};export{_ as default};
